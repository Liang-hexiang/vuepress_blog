---
icon: python
date: 2023-12-06
cover: https://img.tucang.cc/api/image/show/6c8acb93bd0fc9dd85006746d572df8f
category:
    - 设计模式
tag:
    - 工厂模式
    - python
---

# 工厂模式



## 1. 工厂模式

> 工厂模式是最常用的设计模式，在本章环节中我们将介绍**简单工厂**模式以及**工厂方法**和**抽象**工厂等模式。
>
> 在本章节主要包括以下主题：
>
> 1. 了解简单工厂设计模式
> 2. 讨论工厂方法和抽象工厂方法以及差异
> 3. 使用Python代码实现
> 4. 讨论模式的优缺点并进行相应的比较

#### 

### 1.  简单工厂模式

![image-20240102125621992](https://raw.githubusercontent.com/lianghexiang/picgo-picture/main/vuepress/image-20240102125621992.png)

```python
from abc import ABCMeta, abstractmethod
"""
简单工厂模式 ：允许接口创建对象，但不会暴露对象的创建逻辑。
工厂方法模式 ：允许接口创建对象，但使用哪个类来创建对象，则是交由子类决定的。
抽象工厂模式 ：抽象工厂是一个能够创建一系列相关的对象而无需指定/公开其具体类的接口。该模式能够提供其他工厂的对象，在其内部创建其他对象。
"""
# 简单工厂模式
class Animal(metaclass=ABCMeta):
    @abstractmethod
    def say(self):
        pass


class Dog(Animal):
    def say(self):
        print("汪汪汪...")


class Cat(Animal):
    def say(self):
        print("喵喵喵...")


# 创建工厂
class AnimalFactory:
    def make_sound(self, animal_type):
        # 实例化具体的Animal
        animal = eval(animal_type)()
        animal.say()


# 客户端代码
if __name__ == '__main__':
    # 客户端只需要通过工厂来生成animal即可
    aml_fty = AnimalFactory()
    aml_fty.make_sound("Cat")
    aml_fty.make_sound("Dog")
```

下面是代码的输出：

![image-20240102125535424](https://raw.githubusercontent.com/lianghexiang/picgo-picture/main/vuepress/image-20240102125535424.png)

### 2. 工厂方法模式

